@prefix : <ontology/> .
@prefix g: <http://graphity.org/ontology/> .
@prefix gldp: <http://ldp.graphity.org/ontology/> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix dc: <http://purl.org/dc/elements/1.1/> .
@prefix dct: <http://purl.org/dc/terms/> .
@prefix sioc: <http://rdfs.org/sioc/ns#> .
@prefix sp: <http://spinrdf.org/sp#> .
@prefix void: <http://rdfs.org/ns/void#> .
@prefix sd: <http://www.w3.org/ns/sparql-service-description#> .
@prefix lda: <http://purl.org/linked-data/api/vocab#> .
@prefix vann: <http://purl.org/vocab/vann/> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix doap: <http://usefulinc.com/ns/doap#> .
@prefix dbpedia: <http://dbpedia.org/resource/> .
@prefix gfb-app: <http://graph.facebook.com/schema/application#> .


: a owl:Ontology ;
    owl:imports <http://graphity.org/ontology/> ;
    owl:versionInfo "1.0.4" ;
    dct:title "Graphity Linked Data Platform ontology" ;
    rdfs:label "Graphity Linked Data Platform ontology" ;
    dct:created "2012-10-26T01:04:00+03:00"^^xsd:dateTime ;
    vann:preferredNamespaceUri "http://ldp.graphity.org/ontology/" ;
    vann:preferredNamespacePrefix "gldp";
    foaf:homepage : ;
    dct:license <http://www.opendatacommons.org/licenses/pddl/1.0/> ;
    dct:creator <http://semantic-web.dk#martynas> ;
    rdfs:seeAlso <sparql> .

_:dataset a void:Dataset ;
    dct:title "The dataset of this application" ;
    foaf:homepage <> ;
    rdfs:isDefinedBy : ;
    void:sparqlEndpoint <sparql> .

_:sparql a sd:Service ;
    dct:title "Local SPARQL service" ;
    sd:endpoint <sparql> ;
    sd:supportedLanguage sd:SPARQL11Query .

<services/dydra> a sd:Service ;
    dct:title "Dydra SPARQL service" ;
    foaf:homepage <http://dydra.com> ;
    sd:endpoint <http://dydra.com/graphity/ldp/sparql> .

<http://graphity.org#ldp> a doap:Project ;
    dct:title "Graphity Linked Data Platform" ;
    doap:repository <https://github.com/Graphity/graphity-ldp.git> ;
    doap:browse <https://github.com/Graphity/graphity-ldp> ;
    doap:bug-database <https://github.com/Graphity/graphity-ldp/issues> ;
    doap:maintainer <http://semantic-web.dk#martynas> ;
    doap:programming-language dbpedia:XSLT,
	<http://dbpedia.org/resource/Java_%28programming_language%29> .

# PROPERTIES

:facebookApp a owl:ObjectProperty ;
    rdfs:label "has Facebook app" ;
    rdfs:isDefinedBy : ;
    rdfs:range gfb-app:type .

gfb-app:type rdfs:label "Facebook application" ;
    rdfs:isDefinedBy gfb-app: .

# RESOURCES

<> a sioc:Site, lda:ListEndpoint ;
    dct:title "Graphity Linked Data Platform" ;
    g:selectQuery :SelectClasses ;
    # g:service _:sparql ;
    g:mode gldp:ListMode ;
    g:orderBy (rdfs:label) ;
    rdfs:isDefinedBy : ;
    void:inDataset _:dataset ;
    rdfs:seeAlso : .

<instances> a sioc:Container, lda:ListEndpoint ;
    sioc:has_host <> ;
    dct:title "Instances" ;
    g:selectQuery :SelectInstances ;
    # g:service _:sparql ;
    g:mode gldp:ListMode ;
    g:orderBy (rdfs:label dct:title) ;
    rdfs:isDefinedBy : ;
    void:inDataset _:dataset .

<ontologies> a sioc:Container, lda:ListEndpoint ;
    sioc:has_host <> ;
    dct:title "Ontologies" ;
    g:selectQuery :SelectOntologies ;
    # g:service _:sparql ;
    g:mode gldp:ListMode ;
    g:orderBy (rdfs:label dct:title) ;
    rdfs:isDefinedBy : ;
    void:inDataset _:dataset .

<classes> a sioc:Container, lda:ListEndpoint ;
    sioc:has_host <> ;
    dct:title "Classes" ;
    g:selectQuery :SelectClasses ;
    # g:service _:sparql ;
    g:mode gldp:ListMode ;
    g:orderBy (rdfs:label) ;
    rdfs:isDefinedBy : ;
    void:inDataset _:dataset .

<properties> a sioc:Container, lda:ListEndpoint ;
    sioc:has_host <> ;
    dct:title "Properties" ;
    g:selectQuery :SelectProperties ;
    # g:service _:sparql ;
    g:mode gldp:ListMode ;
    g:orderBy (rdfs:label) ;
    rdfs:isDefinedBy : ;
    void:inDataset _:dataset .

<services> a sioc:Container, lda:ListEndpoint ;
    sioc:has_host <> ;
    dct:title "Services" ;
    g:selectQuery :SelectServices ;
    # g:service _:sparql ;
    g:mode gldp:ListMode ;
    g:orderBy (dct:title) ;
    rdfs:isDefinedBy : ;
    void:inDataset _:dataset .

<queries> a sioc:Container, lda:ListEndpoint ;
    sioc:has_host <> ;
    dct:title "Queries" ;
    g:selectQuery :SelectQueries ;
    # g:service _:sparql ;
    g:mode gldp:ListMode ;
    g:orderBy (dct:title) ;
    rdfs:isDefinedBy : ;
    void:inDataset _:dataset .

<modes> a sioc:Container, lda:ListEndpoint ;
    sioc:has_host <> ;
    dct:title "XSLT modes" ;
    g:selectQuery :SelectModes ;
    # g:service _:sparql ;
    g:mode gldp:ListMode ;
    g:orderBy (dct:title) ;
    rdfs:isDefinedBy : ;
    void:inDataset _:dataset .

<sparql> dct:title "SPARQL endpoint" ;
    sioc:has_host <> ;
    rdfs:isDefinedBy : ;
    void:inDataset _:dataset .

# MODES

:EditMode a g:XSLTMode ;
    dct:title "Edit" ;
    rdfs:isDefinedBy : ;
    void:inDataset _:dataset .
gldp:ListMode a g:XSLTMode, g:XSLTPageMode ;
    dct:title "List" ;
    rdfs:isDefinedBy : ;
    void:inDataset _:dataset .
:TableMode a g:XSLTMode, g:XSLTPageMode ;
    dct:title "Table" ;
    rdfs:isDefinedBy : ;
    void:inDataset _:dataset .

# QUERIES

:SelectInstances    a       sp:Select, sp:Query ;
      sp:resultVariables (_:instanceVar) ;
      sp:text """SELECT ?instance
WHERE {
    ?instance a ?type .
}"""^^xsd:string ;
      sp:where ([ sp:object
                          [ sp:varName "type"^^xsd:string
                          ] ;
                  sp:predicate rdf:type ;
                  sp:subject _:instanceVar
                ]) .

_:instanceVar  sp:varName "instance"^^xsd:string .

# ====

:SelectOntologies    a       sp:Select, sp:Query ;
      sp:resultVariables (_:ontologyVar) ;
      sp:text """PREFIX owl: <http://www.w3.org/2002/07/owl#>
SELECT ?ontology
WHERE {
    ?ontology a owl:Ontology .
}"""^^xsd:string ;
      sp:where ([ sp:object owl:Ontology ;
                  sp:predicate rdf:type ;
                  sp:subject _:ontologyVar
                ]) .

_:ontologyVar  sp:varName "ontology"^^xsd:string .

# ====

:SelectClasses    a       sp:Select, sp:Query ;
      sp:resultVariables (_:classVar) ;
      sp:text """PREFIX owl: <http://www.w3.org/2002/07/owl#>
SELECT ?class
WHERE {
    ?class a owl:Class .
}"""^^xsd:string ;
      sp:where ([ sp:object owl:Class ;
                  sp:predicate rdf:type ;
                  sp:subject _:classVar
                ]) .

_:classVar  sp:varName "class"^^xsd:string .

# ====

:SelectProperties    a       sp:Select, sp:Query ;
      sp:resultVariables (_:propertyVar) ;
      sp:text """PREFIX owl: <http://www.w3.org/2002/07/owl#>
SELECT ?property
WHERE {
    {
        ?property a owl:ObjectProperty .
    }
    UNION
    {
        ?property a owl:DatatypeProperty .
    } .
}"""^^xsd:string ;
      sp:where ([ a       sp:Union ;
                  sp:elements (([ sp:object owl:ObjectProperty ;
                                sp:predicate rdf:type ;
                                sp:subject _:propertyVar
                              ]) ([ sp:object owl:DatatypeProperty ;
                                sp:predicate rdf:type ;
                                sp:subject _:propertyVar
                              ]))
                ]) .

_:propertyVar  sp:varName "property"^^xsd:string .

# ====

:SelectServices    a       sp:Select, sp:Query ;
      sp:resultVariables (_:serviceVar) ;
      sp:text """PREFIX sd: <http://www.w3.org/ns/sparql-service-description#>
SELECT ?service
WHERE {
    ?service a sd:Service .
}"""^^xsd:string ;
      sp:where ([ sp:object sd:Service ;
                  sp:predicate rdf:type ;
                  sp:subject _:serviceVar
                ]) .

_:serviceVar  sp:varName "service"^^xsd:string .

# ====

:SelectQueries    a       sp:Select, sp:Query ;
      sp:resultVariables (_:queryVar) ;
      sp:text """PREFIX sp: <http://spinrdf.org/sp#>
SELECT ?query
WHERE {
    ?query a sp:Query .
}"""^^xsd:string ;
      sp:where ([ sp:object sp:Query ;
                  sp:predicate rdf:type ;
                  sp:subject _:queryVar
                ]) .

_:queryVar  sp:varName "query"^^xsd:string .

# ====

:SelectModes    a       sp:Select, sp:Query ;
      sp:resultVariables (_:modeVar) ;
      sp:text """PREFIX g: <http://graphity.org/ontology/>
SELECT ?mode
WHERE {
    ?mode a g:XSLTMode .
}"""^^xsd:string ;
      sp:where ([ sp:object g:XSLTMode ;
                  sp:predicate rdf:type ;
                  sp:subject _:modeVar
                ]) .

_:modeVar  sp:varName "mode"^^xsd:string .